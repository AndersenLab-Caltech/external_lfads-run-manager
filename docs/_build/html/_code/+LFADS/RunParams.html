

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RunParams &mdash; LFADS Run Manager 0.5.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="LFADS Run Manager 0.5.1 documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> LFADS Run Manager
          

          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../LFADS_DatasetCollection.html">LFADS.DatasetCollection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LFADS_Dataset.html">LFADS.Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LFADS_RunSpec.html">LFADS.RunSpec</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LFADS_Run.html">LFADS.Run</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LFADS_RunCollection.html">LFADS.RunCollection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LFADS_RunParams.html">LFADS.RunParams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LFADS_PosteriorMeans.html">LFADS.PosteriorMeans</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">LFADS Run Manager</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>RunParams</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for +LFADS.RunParams</h1><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196</pre></div></td><td class="code"><div class="highlight"><pre style="max-width: 680px; overflow-x: scroll;"><a name="RunParams"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams">[docs]</a><span></span><span class="k">classdef</span> <span class="n">RunParams</span> <span class="o">&lt;</span> <span class="n">handle</span> <span class="o">&amp;</span> <span class="n">matlab</span><span class="p">.</span><span class="n">mixin</span><span class="p">.</span><span class="n">CustomDisplay</span>
    <span class="c">% Collection of parameters which are common to all :ref:`LFADS_Run` instances in a :ref:`LFADS_RunCollection`. You</span>
    <span class="c">% must create a subclass of RunParams in which you specify the serialized representation of the parameters that</span>
    <span class="c">% will be used in paths on disk.</span>
    
    <span class="k">properties</span>
        <span class="c">% data or high-level params</span>
<a name="RunParams.spikeBinMs"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.spikeBinMs">[docs]</a>        <span class="n">spikeBinMs</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c">% Spike bin width in ms</span>
<a name="RunParams.spikeBinMs"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.spikeBinMs">[docs]</a>        <span class="n">trainToTestRatio</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">4</span><span class="p">;</span> <span class="c">% how many train v. test trials, defaults to 4:1 ratio</span>
<a name="RunParams.trainToTestRatio"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.trainToTestRatio">[docs]</a>        
<a name="RunParams.useAlignmentMatrix"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.useAlignmentMatrix">[docs]</a>        <span class="n">useAlignmentMatrix</span> <span class="n">logical</span> <span class="p">=</span> <span class="n">false</span><span class="p">;</span> <span class="c">% by default, no need to create an alignment matrix</span>
        
<a name="RunParams.c_cell_clip_value"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_cell_clip_value">[docs]</a>        <span class="c">% added by CP</span>
<a name="RunParams.c_factors_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_factors_dim">[docs]</a>        <span class="c">%  these are (a subset of the) command-line params to run_lfads.py</span>
<a name="RunParams.c_in_factors_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_in_factors_dim">[docs]</a>        <span class="c">%  start each with c_ so it can be differentiated from other params</span>
<a name="RunParams.c_ic_enc_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_ic_enc_dim">[docs]</a>        <span class="n">c_cell_clip_value</span> <span class="n">double</span> <span class="p">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c">% used to avoid stepping too far during training</span>
<a name="RunParams.c_ci_enc_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_ci_enc_dim">[docs]</a>        <span class="n">c_factors_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">50</span><span class="p">;</span>
<a name="RunParams.c_gen_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_gen_dim">[docs]</a>        <span class="n">c_in_factors_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">50</span><span class="p">;</span>
<a name="RunParams.c_keep_prob"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_keep_prob">[docs]</a>        <span class="n">c_ic_enc_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">128</span><span class="p">;</span> <span class="c">% network size for IC encoder</span>
<a name="RunParams.c_cell_clip_value"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_cell_clip_value">[docs]</a>        <span class="n">c_ci_enc_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">128</span><span class="p">;</span> <span class="c">% network size for controller input encoder</span>
<a name="RunParams.c_factors_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_factors_dim">[docs]</a>        <span class="n">c_gen_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c">% generator network size</span>
<a name="RunParams.c_in_factors_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_in_factors_dim">[docs]</a>        <span class="n">c_keep_prob</span> <span class="n">double</span> <span class="p">=</span> <span class="mf">0.95</span><span class="p">;</span> <span class="c">% randomly drop units during each training pass</span>
<a name="RunParams.c_ic_enc_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_ic_enc_dim">[docs]</a>        <span class="n">c_learning_rate_decay_factor</span> <span class="n">double</span> <span class="p">=</span> <span class="mf">0.98</span><span class="p">;</span> <span class="c">% how quickly to decrease the learning rate</span>
<a name="RunParams.c_ci_enc_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_ci_enc_dim">[docs]</a>        <span class="n">c_device</span> <span class="n">char</span> <span class="p">=</span> <span class="s">&#39;/gpu:0&#39;</span><span class="p">;</span> <span class="c">% which visible GPU/CPU to use</span>
<a name="RunParams.c_gen_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_gen_dim">[docs]</a>        <span class="n">c_co_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">4</span><span class="p">;</span>
<a name="RunParams.c_keep_prob"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_keep_prob">[docs]</a>        <span class="n">c_do_causal_controller</span> <span class="n">logical</span> <span class="p">=</span> <span class="n">false</span><span class="p">;</span> <span class="c">% restrict input encoder from seeing the future?</span>
<a name="RunParams.c_learning_rate_decay_factor"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_learning_rate_decay_factor">[docs]</a>        <span class="n">c_l2_gen_scale</span> <span class="n">double</span> <span class="p">=</span> <span class="mi">500</span><span class="p">;</span> <span class="c">% how much to weight the generator l2 cost</span>
<a name="RunParams.c_device"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_device">[docs]</a>        <span class="n">c_l2_con_scale</span> <span class="n">double</span> <span class="p">=</span> <span class="mi">500</span><span class="p">;</span> <span class="c">% how much to weight the controller l2 cost</span>
<a name="RunParams.c_co_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_co_dim">[docs]</a>        <span class="n">c_batch_size</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">256</span><span class="p">;</span> <span class="c">% number of trials to use during each training pass</span>
<a name="RunParams.c_do_causal_controller"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_do_causal_controller">[docs]</a>        <span class="n">c_kl_increase_steps</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">900</span><span class="p">;</span> <span class="c">% Number of steps over which the kl costs increase</span>
<a name="RunParams.c_l2_gen_scale"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_l2_gen_scale">[docs]</a>        <span class="n">c_l2_increase_steps</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">900</span><span class="p">;</span> <span class="c">% Number of steps over which the l2 costs increase</span>
<a name="RunParams.c_l2_con_scale"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_l2_con_scale">[docs]</a>        <span class="n">c_controller_input_lag</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>
<a name="RunParams.c_batch_size"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_batch_size">[docs]</a>        <span class="n">c_ic_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">64</span><span class="p">;</span> <span class="c">% dimensionality of the initial conditions</span>
<a name="RunParams.c_kl_increase_steps"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_kl_increase_steps">[docs]</a>        <span class="n">c_con_dim</span> <span class="n">uint16</span> <span class="p">=</span> <span class="mi">128</span><span class="p">;</span> <span class="c">%controller dimensionality</span>
<a name="RunParams.c_l2_increase_steps"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_l2_increase_steps">[docs]</a>    <span class="k">end</span>
<a name="RunParams.c_controller_input_lag"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_controller_input_lag">[docs]</a>    
<a name="RunParams.c_ic_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_ic_dim">[docs]</a>    <span class="k">methods</span>
<a name="RunParams.c_con_dim"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.c_con_dim">[docs]</a>        <span class="c">% Methods that you may wish to override in custom subclasses</span>
<a name="RunParams.generateString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateString">[docs]</a><span class="k">        </span>
<span class="k">        function</span><span class="w"> </span>str <span class="p">=</span><span class="w"> </span><span class="nf">generateString</span><span class="p">(</span>p, varargin<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">% Generates a string representation of the parameters that is used for reading off the parameters from a</span>
            <span class="c">% folder path on disk. You can include as many or as few fields in this serialized representation as you see</span>
<a name="RunParams.generateString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateString">[docs]</a>            <span class="c">% fit. The default implementation will compare all property values</span>
            <span class="c">% (including those defined in subclasses) to the inline default property</span>
            <span class="c">% values defined in the class that defines them. Any property</span>
            <span class="c">% values that differ will be included in the serialization.</span>
            <span class="c">%</span>
            <span class="c">% Args:</span>
            <span class="c">%   ignoreProperties : cellstr</span>
            <span class="c">%     list of properties to ignore when serializing, useful</span>
            <span class="c">%     when called from subclasses</span>
            <span class="c">%   onlyRootClassProperties : bool (False)</span>
            <span class="c">%     if true, only include properties declared in</span>
            <span class="c">%     LFADS.RunParams. if false, include properties declared in</span>
            <span class="c">%     subclasses.</span>
            <span class="c">%</span>
            <span class="c">% Returns:</span>
            <span class="c">%   str : string</span>
            <span class="c">%     serialized string suffix suitable for inclusion in file paths</span>
            <span class="c">%</span>
            
            <span class="n">parser</span> <span class="p">=</span> <span class="n">inputParser</span><span class="p">();</span>
            <span class="n">parser</span><span class="p">.</span><span class="n">addParameter</span><span class="p">(</span><span class="s">&#39;ignoreProperties&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">@</span><span class="n">iscellstr</span><span class="p">);</span>
            <span class="n">parser</span><span class="p">.</span><span class="n">addParameter</span><span class="p">(</span><span class="s">&#39;onlyRootClassProperties&#39;</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="p">@</span><span class="n">islogical</span><span class="p">);</span>
            <span class="n">parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">varargin</span><span class="p">{:});</span>
            
            <span class="k">if</span> <span class="n">parser</span><span class="p">.</span><span class="n">Results</span><span class="p">.</span><span class="n">onlyRootClassProperties</span>
                <span class="n">meta</span> <span class="p">=</span> ?<span class="n">LFADS</span><span class="p">.</span><span class="n">RunParams</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="n">meta</span> <span class="p">=</span> <span class="n">metaclass</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
            <span class="k">end</span>
            
            <span class="n">str</span> <span class="p">=</span> <span class="s">&#39;&#39;</span><span class="p">;</span>
            <span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">numel</span><span class="p">(</span><span class="n">meta</span><span class="p">.</span><span class="n">PropertyList</span><span class="p">)</span>
                <span class="n">prop</span> <span class="p">=</span> <span class="n">meta</span><span class="p">.</span><span class="n">PropertyList</span><span class="p">(</span><span class="nb">i</span><span class="p">);</span>
                <span class="n">name</span> <span class="p">=</span> <span class="n">prop</span><span class="p">.</span><span class="n">Name</span><span class="p">;</span>
                <span class="k">if</span> <span class="n">ismember</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parser</span><span class="p">.</span><span class="n">Results</span><span class="p">.</span><span class="n">ignoreProperties</span><span class="p">)</span>
                    <span class="k">continue</span><span class="p">;</span>
                <span class="k">end</span>
                <span class="c">% skip properties that are Dependent, Constant, Transient,</span>
                <span class="c">% or Hidden. Serialize the value if it differes from the </span>
                <span class="k">if</span> <span class="o">~</span><span class="n">prop</span><span class="p">.</span><span class="n">Dependent</span> <span class="o">&amp;&amp;</span> <span class="o">~</span><span class="n">prop</span><span class="p">.</span><span class="n">Constant</span> <span class="o">&amp;&amp;</span> <span class="o">~</span><span class="n">prop</span><span class="p">.</span><span class="n">Transient</span> <span class="o">&amp;&amp;</span> <span class="o">~</span><span class="n">prop</span><span class="p">.</span><span class="n">Hidden</span>
                    <span class="k">if</span> <span class="o">~</span><span class="nb">isequal</span><span class="p">(</span><span class="n">prop</span><span class="p">.</span><span class="n">DefaultValue</span><span class="p">,</span> <span class="n">p</span><span class="p">.(</span><span class="n">name</span><span class="p">))</span>
                        <span class="n">str</span> <span class="p">=</span> <span class="nb">cat</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">serializeProperty</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="p">.(</span><span class="n">name</span><span class="p">)),</span> <span class="s">&#39;__&#39;</span><span class="p">);</span>
                    <span class="k">end</span>
                <span class="k">end</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="nb">isempty</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
                <span class="n">str</span> <span class="p">=</span> <span class="s">&#39;default&#39;</span><span class="p">;</span>
            <span class="k">end</span>
<a name="RunParams.serializeProperty"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.serializeProperty">[docs]</a>            <span class="c">% strip __ off the end</span>
            <span class="k">if</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">str</span><span class="p">(</span><span class="k">end</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="k">end</span><span class="p">),</span> <span class="s">&#39;__&#39;</span><span class="p">),</span> <span class="n">str</span> <span class="p">=</span> <span class="n">str</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="k">end</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span> <span class="k">end</span>
        <span class="k">end</span>
<a name="RunParams.serializeProperty"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.serializeProperty">[docs]</a><span class="k">        </span>
<span class="k">        function</span><span class="w"> </span>str <span class="p">=</span><span class="w"> </span><span class="nf">serializeProperty</span><span class="p">(</span>p, name, value<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">% Generates a string representation like name_value</span>
            <span class="c">% Strips c_ from beginnning of name</span>
<a name="RunParams.serializeProperty"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.serializeProperty">[docs]</a>            <span class="c">%</span>
            <span class="c">% Args:</span>
            <span class="c">%  name : string</span>
            <span class="c">%  value : Matlab built in type</span>
            <span class="c">%</span>
<a name="RunParams.serializeProperty"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.serializeProperty">[docs]</a>            <span class="k">switch</span> <span class="n">class</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<a name="RunParams.serializeProperty"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.serializeProperty">[docs]</a>                <span class="k">case</span> <span class="p">{</span><span class="s">&#39;uint8&#39;</span><span class="p">,</span> <span class="s">&#39;int8&#39;</span><span class="p">,</span> <span class="s">&#39;uint16&#39;</span><span class="p">,</span> <span class="s">&#39;int16&#39;</span><span class="p">,</span> <span class="s">&#39;uint32&#39;</span><span class="p">,</span> <span class="s">&#39;int32&#39;</span><span class="p">,</span> <span class="s">&#39;uint64&#39;</span><span class="p">,</span> <span class="s">&#39;int64&#39;</span><span class="p">}</span>
<a name="RunParams.serializeProperty"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.serializeProperty">[docs]</a>                    <span class="n">valstr</span>  <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%i&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
                <span class="k">case</span> <span class="p">{</span><span class="s">&#39;logical&#39;</span><span class="p">}</span>
                    <span class="k">if</span> <span class="n">thisVal</span>
                        <span class="n">valstr</span> <span class="p">=</span> <span class="s">&#39;true&#39;</span><span class="p">;</span>
                    <span class="k">else</span>
                        <span class="n">valstr</span> <span class="p">=</span> <span class="s">&#39;false&#39;</span><span class="p">;</span>
                    <span class="k">end</span>
                <span class="k">case</span> <span class="p">{</span><span class="s">&#39;double&#39;</span><span class="p">,</span><span class="s">&#39;single&#39;</span><span class="p">}</span>
                    <span class="n">valstr</span> <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%g&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
                <span class="k">case</span> <span class="p">{</span><span class="s">&#39;char&#39;</span><span class="p">}</span>
                    <span class="n">valstr</span> <span class="p">=</span> <span class="n">value</span><span class="p">;</span>
                <span class="k">otherwise</span>
                    <span class="n">error</span><span class="p">([</span><span class="s">&#39;don&#39;&#39;t know this type: &#39;</span> <span class="n">class</span><span class="p">(</span><span class="n">value</span><span class="p">)]);</span>
            <span class="k">end</span>
            <span class="k">if</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;c_&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">(</span><span class="mi">3</span><span class="p">:</span><span class="k">end</span><span class="p">);</span>
            <span class="k">end</span>
            <span class="n">str</span> <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%s_%s&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">valstr</span><span class="p">);</span>
        <span class="k">end</span>
<a name="RunParams.generateCommandLineOptionsString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateCommandLineOptionsString">[docs]</a>    <span class="k">end</span>
    
    <span class="k">methods</span>
<a name="RunParams.generateCommandLineOptionsString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateCommandLineOptionsString">[docs]</a><span class="k">        function</span><span class="w"> </span>str <span class="p">=</span><span class="w"> </span><span class="nf">generateCommandLineOptionsString</span><span class="p">(</span>p<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">% str = generateCommandLineOptionsString(p)</span>
            <span class="c">% Generates a string of all the command line options to</span>
            <span class="c">% pass directly into run_lfads.py</span>
<a name="RunParams.generateCommandLineOptionsString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateCommandLineOptionsString">[docs]</a>            <span class="c">%</span>
            <span class="c">% Returns:</span>
            <span class="c">%   str : char</span>
            
            <span class="c">% get all the parameters</span>
<a name="RunParams.generateCommandLineOptionsString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateCommandLineOptionsString">[docs]</a>            <span class="n">f</span> <span class="p">=</span> <span class="n">fields</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<a name="RunParams.generateCommandLineOptionsString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateCommandLineOptionsString">[docs]</a>            <span class="c">% only keep the command line params</span>
<a name="RunParams.generateCommandLineOptionsString"></a><a class="viewcode-back" style="background-color: white; padding-left: 0; z-index: 1000; position: relative;"href="../../LFADS_RunParams.html#+LFADS.RunParams.generateCommandLineOptionsString">[docs]</a>            <span class="c">%  these begin with &#39;c_&#39;</span>
            <span class="n">keepFields</span> <span class="p">=</span> <span class="n">false</span><span class="p">(</span><span class="nb">numel</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
            <span class="k">for</span> <span class="n">nf</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="nb">numel</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">numel</span><span class="p">(</span><span class="n">f</span><span class="p">{</span><span class="n">nf</span><span class="p">})</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">f</span><span class="p">{</span><span class="n">nf</span><span class="p">}(</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">),</span> <span class="s">&#39;c_&#39;</span><span class="p">)</span>
                    <span class="n">keepFields</span><span class="p">(</span><span class="n">nf</span><span class="p">)</span> <span class="p">=</span> <span class="n">true</span><span class="p">;</span>
                <span class="k">end</span>
            <span class="k">end</span>
            <span class="n">f</span> <span class="p">=</span> <span class="n">f</span><span class="p">(</span><span class="n">keepFields</span><span class="p">);</span>
            
            <span class="c">% build the output string</span>
            <span class="n">str</span> <span class="p">=</span> <span class="s">&#39;&#39;</span><span class="p">;</span>
            <span class="k">for</span> <span class="n">nf</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">numel</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="n">clear</span> <span class="n">fieldstr</span>
                <span class="n">thisField</span> <span class="p">=</span> <span class="n">f</span><span class="p">{</span><span class="n">nf</span><span class="p">};</span>
                <span class="n">thisVal</span> <span class="p">=</span> <span class="n">p</span><span class="p">.(</span><span class="n">thisField</span><span class="p">);</span>
                
                <span class="c">% argument formatted differently for each class</span>
                <span class="k">switch</span> <span class="n">class</span><span class="p">(</span><span class="n">thisVal</span><span class="p">)</span>
                    <span class="k">case</span> <span class="p">{</span><span class="s">&#39;uint16&#39;</span><span class="p">,</span> <span class="s">&#39;uint32&#39;</span><span class="p">,</span> <span class="s">&#39;int16&#39;</span><span class="p">,</span> <span class="s">&#39;int32&#39;</span><span class="p">}</span>
                        <span class="n">fieldstr</span> <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%i&#39;</span><span class="p">,</span> <span class="n">thisVal</span><span class="p">);</span>
                    <span class="k">case</span> <span class="p">{</span><span class="s">&#39;logical&#39;</span><span class="p">}</span>
                        <span class="k">if</span> <span class="n">thisVal</span>
                            <span class="n">fieldstr</span> <span class="p">=</span> <span class="s">&#39;true&#39;</span><span class="p">;</span>
                        <span class="k">else</span>
                            <span class="n">fieldstr</span> <span class="p">=</span> <span class="s">&#39;false&#39;</span><span class="p">;</span>
                        <span class="k">end</span>
                    <span class="k">case</span> <span class="p">{</span><span class="s">&#39;double&#39;</span><span class="p">,</span><span class="s">&#39;single&#39;</span><span class="p">}</span>
                        <span class="n">fieldstr</span> <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%.3f&#39;</span><span class="p">,</span> <span class="n">thisVal</span><span class="p">);</span>
                    <span class="k">case</span> <span class="p">{</span><span class="s">&#39;char&#39;</span><span class="p">}</span>
                        <span class="n">fieldstr</span> <span class="p">=</span> <span class="n">thisVal</span><span class="p">;</span>
                    <span class="k">otherwise</span>
                        <span class="n">error</span><span class="p">([</span><span class="s">&#39;don&#39;&#39;t know this type: &#39;</span> <span class="n">class</span><span class="p">(</span><span class="n">thisVal</span><span class="p">)]);</span>
                <span class="k">end</span>
                <span class="n">str</span> <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%s --%s=%s&#39;</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="n">thisField</span><span class="p">(</span><span class="mi">3</span><span class="p">:</span><span class="k">end</span><span class="p">),</span> <span class="c">...</span>
                    <span class="n">fieldstr</span><span class="p">);</span>
            <span class="k">end</span>
            
        <span class="k">end</span>
    <span class="k">end</span>
    
    
    <span class="k">methods</span><span class="p">(</span><span class="n">Hidden</span><span class="p">)</span>
<span class="k">        function</span><span class="w"> </span>h <span class="p">=</span><span class="w"> </span><span class="nf">getFirstLineHeader</span><span class="p">(</span>p<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="n">className</span> <span class="p">=</span> <span class="n">class</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
            <span class="n">h</span> <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%s &quot;%s&quot;&#39;</span><span class="p">,</span> <span class="n">className</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">generateString</span><span class="p">());</span>
        <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">methods</span> <span class="p">(</span><span class="n">Access</span> <span class="p">=</span> <span class="n">protected</span><span class="p">)</span>
<span class="k">       function</span><span class="w"> </span>header <span class="p">=</span><span class="w"> </span><span class="nf">getHeader</span><span class="p">(</span>p<span class="p">)</span><span class="w"></span>
<span class="w">          </span><span class="k">if</span> <span class="o">~</span><span class="nb">isscalar</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
             <span class="n">header</span> <span class="p">=</span> <span class="n">getHeader</span><span class="p">@</span><span class="n">matlab</span><span class="p">.</span><span class="n">mixin</span><span class="p">.</span><span class="n">CustomDisplay</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
          <span class="k">else</span>
             <span class="n">header</span> <span class="p">=</span> <span class="n">sprintf</span><span class="p">(</span><span class="s">&#39;%s\n&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">getFirstLineHeader</span><span class="p">());</span>
          <span class="k">end</span>
       <span class="k">end</span>
    <span class="k">end</span>
    
<span class="k">end</span>
</pre></div>
</td></tr></table>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Dan O&#39;Shea, Chethan Pandarinath.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.5.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>